<!DOCTYPE html>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const button = document.querySelector('.title-button');
        button.addEventListener('click', function() {
            // Create the popup
            const popup = document.createElement('div');
            popup.innerHTML = `
                <div style="position:fixed; top:50%; left:50%; transform:translate(-50%, -50%); background-color:white; padding:20px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); border-radius: 10px; z-index: 1000;">
                    <iframe src="./popupsettings.html" style="width:600px; height:400px; border:none;"></iframe>
                </div>`;
            document.body.appendChild(popup);

            // Animation for the popup
            popup.style.opacity = 0;
            let opacity = 0;
            const interval = setInterval(function() {
                if (opacity < 1) {
                    opacity += 0.05;
                    popup.style.opacity = opacity;
                } else {
                    clearInterval(interval);
                }
            }, 20);

            // Click outside iframe to remove the popup
            popup.addEventListener('click', function(event) {
                if (event.target === popup) {
                    popup.remove();
                }
            });
        });
    });
</script>

<html>
<head>
    <title>Home - Tumwater Middle School</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: repeating-linear-gradient(
                45deg,
                #f0f0f0,
                #f0f0f0 10px,
                #e0e0e0 10px,
                #e0e0e0 20px
            );
            color: #000;
        }
        .title-button {
            background: none;
            border: none;
            color: black;
            font-size: 2em;
            cursor: pointer;
            transition: color 0.5s ease; /* Smooth transition for color change */
        }
        .title-button:hover, .title-button:focus {
            color: #1E90FF; /* Original title color, makes the button 'appear' on hover/focus */
        }
        h2 {
            color: #008000;
        }
        ul {
            list-style-type: disc;
        }
        footer {
            margin-top: 20px;
            text-align: center;
            color: #777;
        }
    </style>
</head>
<body>
    <button class="title-button">Welcome to the World of Geometry</button>
    
    <h2>Introduction to Geometry</h2>
    <p>Geometry is a branch of mathematics that deals with the study of shapes, sizes, properties, and dimensions of objects in space. It plays a crucial role in various fields, from architecture to physics.</p>
    
    <h2>Types of Geometry</h2>
    <ul>
        <li><strong>Euclidean Geometry:</strong> This is the traditional geometry developed by Euclid. It deals with flat surfaces and is based on axioms, theorems, and postulates.</li>
        <li><strong>Non-Euclidean Geometry:</strong> In contrast to Euclidean geometry, this branch explores geometries on curved surfaces and includes hyperbolic and elliptic geometries.</li>
        <li><strong>Analytic Geometry:</strong> This involves using algebraic methods to study geometry, often in the context of coordinate systems and equations.</li>
        <li><strong>Differential Geometry:</strong> It focuses on the study of curves and surfaces, applying principles from calculus to understand their properties.</li>
        <li><strong>Projective Geometry:</strong> This branch explores properties that are preserved under projective transformations, crucial in computer graphics and computer vision.</li>
    </ul>
    
    <h2>Geometry in Everyday Life</h2>
    <p>Geometry is all around us, from the shapes of buildings to the patterns in nature. Understanding the various types of geometry helps us comprehend the world we live in.</p>
    
    <h2>Learn Geometry Online</h2>
    <p>If you want to learn more about geometry, here are some websites that can help:</p>
    <ul>
        <li><a href="https://www.khanacademy.org/math/geometry" target="_blank">Khan Academy - Geometry</a></li>
        <li><a href="https://www.geogebra.org/" target="_blank">GeoGebra - Dynamic Mathematics</a></li>
        <li><a href="https://aleks.com" target="_blank">ALEKS &ndash; Adaptive Learning & Assessment for Math, Chemistry, Statistics & More</a></li>
    </ul>
    
    <footer>
        <p id="hiddenButton" style="cursor: pointer; background-color: transparent; border: none;">&copy; 2023 Math Online</p>
    </footer>
    <script>
        document.getElementById("hiddenButton").addEventListener("click", function() {
            const blocks = document.querySelectorAll('body > *'); // Get all direct children of the body
    
            let index = 0;
            const removeInterval = setInterval(function() {
                if (index < blocks.length) {
                    blocks[index].style.opacity = 0; // Set opacity to 0 for fade-out effect
                    blocks[index].style.transition = 'opacity 0.5s ease'; // Add transition for smooth effect
                    blocks[index].style.pointerEvents = 'none'; // Disable pointer events to prevent interaction
                    index++;
                } else {
                    clearInterval(removeInterval);
                    const proxyItem = localStorage.getItem("proxy");
                    console.log(proxyItem)
                    let iframeUrl;
                    if (proxyItem === 'astroid') {
                        iframeUrl = 'https://astroid.mathonline.click/worksheets';
                    } else if (proxyItem === 'interstellar') {
                        iframeUrl = 'https://n-eight-lime.vercel.app/';
                    } else if (proxyItem === 'hypertabs') {
                        const randomNum = Math.random();
                        iframeUrl = randomNum < 0.5 ? 'https://anurann.mathonline.click/browser.html' : 'https://anura.mathonline.click/browser.html';
                    } else if (proxyItem === 'cloak3r'){
                        iframeUrl='./test2.html';
                    }else{
                        const randomNum = Math.random();
                        iframeUrl = randomNum < 0.5 ? 'https://anurann.mathonline.click/browser.html' : 'https://anura.mathonline.click/browser.html';
                    }
    
                    console.log("Iframe URL:", iframeUrl);
                    console.log("Viewport Height:", window.innerHeight);
                    
                    document.body.innerHTML = `<iframe src="${iframeUrl}" width="100%" height="${window.innerHeight}px"></iframe>`; // Remove all HTML content from the body
                }
            }, 100);
        });
    </script>    
</body>
</html>
